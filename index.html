<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>KaiKei-Kun</title>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
    </head>
    <body>
        <div class="container">
            <h1 class="page-header">KaiKei-Kun</h1>

            <!-- expenditure input -->
            <div class="row">
                <h2>Expenditure</h2>

                <div class="form-inline">
                    <div class="form-group">
                        <div class="input-group">
                            <div class="input-group-addon">&yen;</div>
                            <input type="number" min="0" value="0" class="form-control" id="total">
                        </div>
                    </div>
                    <button class="btn btn-default" onclick="compute(false)">Preview</button>
                    <button class="btn btn-primary" onclick="compute(true)">Deduct</button>
                </div>
                <div class="checkbox">
                    <label><input type="checkbox"> Aggressive</label>
                </div>
            </div>

            <!-- coin picker -->
            <script id="picker-template" type="text/x-handlers-template">
                <h2>Wallet</h2>

                <div class="form-inline">
                    {{#each currency.denoms}}
                    <div class="row form-group">
                        <label for="picker-coin-{{@key}}"><img src="{{url}}" width="50" height="50" class="img-thumbnail"></label>
                        <input type="number" min="0" value="0" id="picker-coin-{{@key}}" class="picker-coin" data-value="{{@key}}">
                    </div>
                    {{/each}}
                </div>
            </script>

            <!-- payment display -->
            <script id="payment-template" type="text/x-handlers-template">
                {{#if payment}}
                <h2>Payment</h2>

                <div>
                    {{#each payment}}
                    <div class="row">
                        {{#each this}}
                        <img src="{{this}}" width="50" height="50" class="img-thumbnail">
                        {{/each}}
                    </div>
                    {{/each}}
                </div>
                {{/if}}
            </script>

            <!-- change display -->
            <script id="change-template" type="text/x-handlers-template">
                {{#if change}}
                <h2>Change</h2>

                <div>
                    {{#each change}}
                    <div class="row">
                        {{#each this}}
                        <img src="{{this}}" width="50" height="50" class="img-thumbnail">
                        {{/each}}
                    </div>
                    {{/each}}
                </div>
                {{/if}}
            </script>

            <div class="row">
                <div id="picker" class="col-md-4"></div>
                <div id="payment" class="col-md-4"></div>
                <div id="change" class="col-md-4"></div>
            </div>

            <script src="https://cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.0.3/handlebars.min.js"></script>
            <script src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore-min.js"></script>
            <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.0.0-alpha1/jquery.min.js"></script>
            <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
            <script src="kaikeikun.js"></script>
        </div>
    </body>
</html>
